# PostgreSQL Exporter service discovery for Prometheus
# This file is automatically generated by the pgexporter-container Ansible role
# Do not edit manually - changes will be overwritten

- targets:
    - "{{ ansible_host | default(inventory_hostname) }}:{{ pgexporter_host_port }}"
  labels:
    job: "postgres-exporter"
    instance: "{{ ansible_host | default(inventory_hostname) }}:{{ pgexporter_host_port }}"
    postgres_host: "{{ pgexporter_postgres_host }}"
    postgres_port: "{{ pgexporter_postgres_port }}"
    postgres_db: "{{ pgexporter_postgres_db }}"
    postgres_exporter_version: "{{ pgexporter_container_tag }}"
    deployment_type: "container"
{% if pgexporter_monitoring_subnet is defined %}
    monitoring_subnet: "{{ pgexporter_monitoring_subnet }}"
{% endif %}
    environment: "{{ ansible_environment | default('production') }}"
    datacenter: "{{ ansible_datacenter | default('unknown') }}"


