# PostgreSQL Exporter targets for {{ item }}
# This file is automatically generated by Ansible
# Do not edit manually - changes will be overwritten

- targets:
    - "{{ item }}:{{ prometheus_pgexporter_port }}"
  labels:
    __meta_filepath: "{{ prometheus_config_dir }}/targets/postgres_exporter_{{ item }}.yml"
    job: "postgres_exporter"
    instance: "{{ item }}:{{ prometheus_pgexporter_port }}"
    service: "postgresql"
    postgres_host: "{{ item }}"
    environment: "{{ prometheus_environment | default('production') }}"
    {% if prometheus_pgexporter_labels is defined %}
    {% for key, value in prometheus_pgexporter_labels.items() %}
    {{ key }}: "{{ value }}"
    {% endfor %}
    {% endif %}